<div class="container-fluid">

  <div *ngIf="isLoading" class="d-flex d-flexSpinner justify-content-center">
    <div class="spinner-border text-info" role="status">
      <span class="sr-only">{{texts.loading}}</span>
    </div>

  </div>

  <div *ngIf="!isLoading">

    <div class="row-fluid pageTitle">
      <h2>{{texts.appValoraciones}}</h2>
    </div>

    <div class="justify-content-center tableContainer">
      <div *ngIf="opinionsEmpty">{{texts.noValoraciones}}</div>

      <div *ngIf="!opinionsEmpty">
        <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col" class="dateContainer">{{texts.fecha}}</th>
              <th scope="col" class="commentContainer">{{texts.usuario}}</th>
              <th scope="col" class="commentContainer">{{texts.comentario}}</th>
              <th scope="col" class="rateContainer">{{texts.valoracion}}</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let opinion of opinions | paginate: { itemsPerPage: 6, currentPage: p }">
              <td class="valignCenter">{{opinion.date}}</td>
              <td class="valignCenter">{{opinion.user.userName}}</td>
              <td class="valignCenter">{{opinion.comment}}</td>
              <td class="rateContainer">
                <div *ngIf="opinion.rate == 1" class="rate">
                  <input #abc type="radio" id="star1" name="rate"/>
                  <label for="star1" class="NotColored"></label>
                  <input #abc type="radio" id="star2" name="rate"/>
                  <label for="star2" class="NotColored"></label>
                  <input #abc type="radio" id="star3" name="rate"/>
                  <label for="star3" class="NotColored"></label>
                  <input #abc type="radio" id="star4" name="rate"/>
                  <label for="star4" class="NotColored"></label>
                  <input #abc type="radio" id="star5" name="rate"/>
                  <label for="star5" class="colored"></label>
              </div>
              <div *ngIf="opinion.rate == 2" class="rate">
                  <input #abc type="radio" id="star1" name="rate"/>
                  <label for="star1" class="NotColored"></label>
                  <input #abc type="radio" id="star2" name="rate"/>
                  <label for="star2" class="NotColored"></label>
                  <input #abc type="radio" id="star3" name="rate"/>
                  <label for="star3" class="NotColored"></label>
                  <input #abc type="radio" id="star4" name="rate"/>
                  <label for="star4" class="colored"></label>
                  <input #abc type="radio" id="star5" name="rate"/>
                  <label for="star5" class="colored"></label>
              </div>
              <div *ngIf="opinion.rate == 3" class="rate">
                  <input #abc type="radio" id="star1" name="rate"/>
                  <label for="star1" class="NotColored"></label>
                  <input #abc type="radio" id="star2" name="rate"/>
                  <label for="star2" class="NotColored"></label>
                  <input #abc type="radio" id="star3" name="rate"/>
                  <label for="star3" class="colored"></label>
                  <input #abc type="radio" id="star4" name="rate"/>
                  <label for="star4" class="colored"></label>
                  <input #abc type="radio" id="star5" name="rate"/>
                  <label for="star5" class="colored"></label>
              </div>
              <div *ngIf="opinion.rate == 4" class="rate">
                  <input #abc type="radio" id="star1" name="rate"/>
                  <label for="star1" class="NotColored"></label>
                  <input #abc type="radio" id="star2" name="rate"/>
                  <label for="star2" class="colored"></label>
                  <input #abc type="radio" id="star3" name="rate"/>
                  <label for="star3"  class="colored"></label>
                  <input #abc type="radio" id="star4" name="rate"/>
                  <label for="star4"  class="colored"></label>
                  <input #abc type="radio" id="star5" name="rate"/>
                  <label for="star5"  class="colored"></label>
              </div>
              <div *ngIf="opinion.rate == 5" class="rate">
                  <input #abc type="radio" id="star1" name="rate"/>
                  <label for="star1" class="colored"></label>
                  <input #abc type="radio" id="star2" name="rate"/>
                  <label for="star2" class="colored"></label>
                  <input #abc type="radio" id="star3" name="rate"/>
                  <label for="star3" class="colored"></label>
                  <input #abc type="radio" id="star4" name="rate"/>
                  <label for="star4" class="colored"></label>
                  <input #abc type="radio" id="star5" name="rate"/>
                  <label for="star5" class="colored"></label>
              </div>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="paginationContainer">
          <pagination-controls class="pagination" (pageChange)="p = $event" previousLabel="Anterior"
          nextLabel="Siguiente"></pagination-controls>
        </div>
      </div>

      <a (click)=goToOpinionForm()><button class="btn btn-primary buttonStyle buttonContainer">{{texts.dejaOpinion}}</button></a>
    </div>
  </div>
</div>

